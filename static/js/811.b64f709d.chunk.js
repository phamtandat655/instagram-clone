"use strict";(self.webpackChunkinstagram_clone=self.webpackChunkinstagram_clone||[]).push([[811],{7811:function(o,n,i){i.r(n),i.d(n,{default:function(){return w}});var l=i(1413),e=i(9439),s=i(9448),a=i.n(s),t=i(2791),r=i(2948),c=i(7799),d=i(9514),f=i(4499),m=i(7689),u=i(4446),p=i(9922),g=i(184),v=a().bind({"followings-modal":"FollowsModal_followings-modal__K623X","followings-modal-wrapper":"FollowsModal_followings-modal-wrapper__monfV","followings-modal-header":"FollowsModal_followings-modal-header__bO1Q8","followings-modal-close":"FollowsModal_followings-modal-close__iUwem","followings-modal-list":"FollowsModal_followings-modal-list__615hS","followings-modal-item":"FollowsModal_followings-modal-item__mnL+Y"}),h=function(o){var n=o.typeOfFollowModal,i=o.setHideFollowModal,l=o.followings,e=o.followers,s=(0,m.s0)();return"followers"===n?(0,g.jsx)("div",{className:v("followings-modal"),onClick:function(o){i(!0)},children:(0,g.jsxs)("div",{className:v("followings-modal-wrapper"),onClick:function(o){o.stopPropagation()},children:[(0,g.jsx)("i",{className:v("followings-modal-close"),onClick:function(o){i(!0)},children:"X"}),(0,g.jsx)("div",{className:v("followings-modal-header"),children:"Ng\u01b0\u1eddi theo d\xf5i"}),(0,g.jsx)("div",{className:v("followings-modal-list"),children:e&&e.map((function(o,n){return(0,g.jsx)("div",{className:v("followings-modal-item"),onClick:function(n){i(!0),s("/personalPage/".concat(null===o||void 0===o?void 0:o.id))},children:(0,g.jsx)(p.Z,{userAccount:o,lengthDesc:40,follow:!l.find((function(n){return(null===n||void 0===n?void 0:n.User.information.email)===(null===o||void 0===o?void 0:o.information.email)})),followings:l})},(null===o||void 0===o?void 0:o.id)||n)}))})]})}):(0,g.jsx)("div",{className:v("followings-modal"),onClick:function(o){i(!0)},children:(0,g.jsxs)("div",{className:v("followings-modal-wrapper"),onClick:function(o){o.stopPropagation()},children:[(0,g.jsx)("i",{className:v("followings-modal-close"),onClick:function(o){i(!0)},children:"X"}),(0,g.jsx)("div",{className:v("followings-modal-header"),children:"\u0110ang theo d\xf5i"}),(0,g.jsx)("div",{className:v("followings-modal-list"),children:l&&l.map((function(o,n){return(0,g.jsx)("div",{className:v("followings-modal-item"),onClick:function(n){i(!0),s("/personalPage/".concat(null===o||void 0===o?void 0:o.User.information.email))},children:(0,g.jsx)(p.Z,{name:null===o||void 0===o?void 0:o.User.information.name,img:null===o||void 0===o?void 0:o.User.information.avatar,lengthDesc:40})},(null===o||void 0===o?void 0:o.User.id)||n)}))})]})})},_=a().bind({wrapper:"PersonalPage_wrapper__JaFho","personalPage-top":"PersonalPage_personalPage-top__gWb51","avatar-container":"PersonalPage_avatar-container__i82Ok","infomation-container":"PersonalPage_infomation-container__JreGG","info-top":"PersonalPage_info-top__DRTHI","info-top--following-wrapper":"PersonalPage_info-top--following-wrapper__5rRdo","info-top--email":"PersonalPage_info-top--email__mRtoi","info-top--settings":"PersonalPage_info-top--settings__DNcuP","info-top--follow":"PersonalPage_info-top--follow__PEegz","info-top--following":"PersonalPage_info-top--following__x9v1l","info-top--setting":"PersonalPage_info-top--setting__kgQpu","info-top--icon":"PersonalPage_info-top--icon__VbCdP","info-mid":"PersonalPage_info-mid__fIw+o","info-mid-followings":"PersonalPage_info-mid-followings__56lhj",cursorText:"PersonalPage_cursorText__+cRG4","info-bottom--name":"PersonalPage_info-bottom--name__eCFY8","personalPage-bottom":"PersonalPage_personalPage-bottom__UY+jp",dontHavePost:"PersonalPage_dontHavePost__APBUr","post-container":"PersonalPage_post-container__BmluI","post-container--icon":"PersonalPage_post-container--icon__lWdTR",active:"PersonalPage_active__0AyDQ",post:"PersonalPage_post__XzJSQ","post-wrapper":"PersonalPage_post-wrapper__tB0Rg","listPost-icon":"PersonalPage_listPost-icon__1Vlec",video:"PersonalPage_video__rhiAI","info-top--signout":"PersonalPage_info-top--signout__0A3ju","info-mid-posts":"PersonalPage_info-mid-posts__OeKql","info-bottom--desc":"PersonalPage_info-bottom--desc__Z2E5S","email-wrapper":"PersonalPage_email-wrapper__-oNX5"});var w=function(){var o=(0,t.useState)({}),n=(0,e.Z)(o,2),i=n[0],s=n[1],a=(0,t.useState)([]),p=(0,e.Z)(a,2),v=p[0],w=p[1],P=(0,t.useState)([]),x=(0,e.Z)(P,2),j=x[0],N=x[1],b=(0,t.useState)([]),k=(0,e.Z)(b,2),C=k[0],F=k[1],Z=(0,t.useState)([]),E=(0,e.Z)(Z,2),U=E[0],S=E[1],M=(0,t.useState)(!0),H=(0,e.Z)(M,2),T=H[0],y=H[1],D=(0,t.useState)(""),I=(0,e.Z)(D,2),O=I[0],J=I[1],R=(0,t.useState)(15),X=(0,e.Z)(R,2),A=X[0],B=X[1],Q=(0,t.useState)(!1),V=(0,e.Z)(Q,2),G=V[0],K=V[1],L=(0,r._)(),Y=L.user,z=L.logout,W=(0,m.s0)(),q=(0,m.UO)().email,$=(0,u.i)(),oo=$.handleFollow,no=$.handleUnfollow;(0,t.useEffect)((function(){(0,c.cf)((0,c.JU)(d.db,"users","".concat(null===Y||void 0===Y?void 0:Y.email)),(function(o){var n;S(null===(n=o.data())||void 0===n?void 0:n.follows)})),(0,c.cf)((0,c.hJ)(d.db,"users"),(function(o){var n=[];o.forEach((function(o){var i,e;o.id===q&&(N(null===(e=o.data())||void 0===e?void 0:e.follows),s(o.data()));null!==(i=o.data())&&void 0!==i&&i.follows.find((function(o){return o.User.information.email===q}))&&n.push((0,l.Z)({id:o.id},o.data()))})),F(n)}));var o=(0,c.IO)((0,c.hJ)(d.db,"posts"),(0,c.Xo)("timestamp","desc")),n=(0,c.cf)(o,(function(o){var n=[];o.forEach((function(o){n.push((0,l.Z)({id:o.id},o.data()))})),n=n.filter((function(o){return null===o||void 0===o?void 0:o.useremail.includes(q)})),w(n)}));return function(){n()}}),[q,null===Y||void 0===Y?void 0:Y.email]);var io=function(o){var n=document.body.scrollTop||document.documentElement.scrollTop,i=document.documentElement.scrollHeight,l=document.documentElement.clientHeight;Math.floor(n/(i-l)*100)>=90&&B((function(o){return o+9}))};return(0,t.useEffect)((function(){return window.addEventListener("scroll",io),function(){return window.removeEventListener("scroll",io)}})),null!==i&&void 0!==i&&i.information?(0,g.jsxs)("div",{className:_("wrapper"),children:[!1===T&&(0,g.jsx)(h,{typeOfFollowModal:O,setHideFollowModal:y,followings:j,followers:C}),(0,g.jsxs)("div",{className:_("personalPage-top"),children:[(0,g.jsx)("div",{className:_("avatar-container"),children:(0,g.jsx)("img",{alt:"avatar",src:null===i||void 0===i?void 0:i.information.avatar})}),(0,g.jsxs)("div",{className:_("infomation-container"),children:[(0,g.jsxs)("div",{className:_("info-top"),children:[(0,g.jsxs)("div",{className:_("email-wrapper"),children:[(0,g.jsx)("p",{className:_("info-top--email"),children:q}),q===(null===Y||void 0===Y?void 0:Y.email)&&(0,g.jsx)("p",{className:_("info-top--icon"),onClick:function(o){K(!G)},children:f.P0}),!0===G&&(0,g.jsx)("div",{className:_("info-top--signout"),onClick:function(){W("/"),z()},children:"\u0110\u0103ng xu\u1ea5t"})]}),q===(null===Y||void 0===Y?void 0:Y.email)?(0,g.jsx)("div",{className:_("info-top--settings"),onClick:function(o){W("/account/edit")},children:"Ch\u1ec9nh s\u1eeda trang c\xe1 nh\xe2n"}):(0,g.jsxs)("div",{className:_("info-top--following-wrapper"),children:[(0,g.jsx)("div",{className:_("info-top--following"),onClick:function(o){W("/inbox/".concat(q))},children:"Nh\u1eafn tin"}),U&&U.find((function(o){return o.User.information.email===q}))?(0,g.jsx)("p",{className:_("info-top--following"),onClick:function(o){no(Y,U,i)},children:"\u0110ang theo d\xf5i"}):(0,g.jsx)("p",{className:_("info-top--follow"),onClick:function(o){oo(Y,U,i)},children:"Theo d\xf5i"})]})]}),(0,g.jsxs)("div",{className:_("info-mid"),children:[(0,g.jsxs)("span",{className:_("info-mid-posts"),children:[(0,g.jsx)("strong",{children:v.length})," ",(0,g.jsx)("span",{children:"b\xe0i vi\u1ebft"})]}),(0,g.jsxs)("span",{className:_("info-mid-followings",{cursorText:0===C.length}),onClick:function(o){0!==C.length&&(J("followers"),y(!1))},children:[(0,g.jsx)("strong",{children:C?C.length:0})," ",(0,g.jsx)("span",{children:"ng\u01b0\u1eddi theo d\xf5i"})]}),(0,g.jsxs)("span",{className:_("info-mid-followings",{cursorText:0===j.length}),onClick:function(o){0!==j.length&&(J("followings"),y(!1))},children:[(0,g.jsx)("strong",{children:j?j.length:0})," ",(0,g.jsx)("span",{children:"\u0111ang theo d\xf5i"})]})]}),(0,g.jsxs)("div",{className:_("info-bottom"),children:[(0,g.jsx)("p",{className:_("info-bottom--name"),children:null===i||void 0===i?void 0:i.information.name}),(0,g.jsx)("p",{className:_("info-bottom--desc"),children:null===i||void 0===i?void 0:i.information.desc})]})]})]}),(0,g.jsxs)("div",{className:_("personalPage-bottom"),children:[(0,g.jsxs)("p",{className:_("post-container","active"),children:[(0,g.jsx)("span",{className:_("post-container--icon"),children:f.gk}),(0,g.jsx)("span",{children:"B\xc0I VI\u1ebeT"})]}),(0,g.jsx)("div",{className:_("post"),children:v&&v.map((function(o,n){return n>=A?(0,g.jsx)(t.Fragment,{},n):null!==o&&void 0!==o&&o.url[0].type.includes("image")?(0,g.jsxs)("div",{className:_("post-wrapper"),onClick:function(n){W("/".concat(null===o||void 0===o?void 0:o.id))},children:[(null===o||void 0===o?void 0:o.url.length)>1&&(0,g.jsx)("i",{className:_("listPost-icon"),children:f.DE}),(0,g.jsx)("img",{alt:"post-img",src:null===o||void 0===o?void 0:o.url[0].src})]},null===o||void 0===o?void 0:o.id):(0,g.jsxs)("div",{className:_("post-wrapper"),onClick:function(n){W("/".concat(null===o||void 0===o?void 0:o.id))},children:[(null===o||void 0===o?void 0:o.url.length)>1&&(0,g.jsx)("i",{className:_("listPost-icon"),children:f.DE}),(0,g.jsx)("video",{width:"290",muted:!0,className:_("video"),children:(0,g.jsx)("source",{src:null===o||void 0===o?void 0:o.url[0].src,type:"video/mp4"})})]},null===o||void 0===o?void 0:o.id)}))}),v.length<=0&&(0,g.jsxs)("div",{className:_("dontHavePost"),children:[(0,g.jsx)("h3",{children:"Hi\u1ec7n t\u1ea1i ch\u01b0a c\xf3 b\xe0i vi\u1ebft n\xe0o !"}),(0,g.jsx)("p",{children:"H\xe3y chia s\u1ebb nh\u1eefng b\u1ee9c \u1ea3nh \u0111\u1ea7u ti\xean c\u1ee7a b\u1ea1n !"}),(0,g.jsx)("p",{children:"Khi b\u1ea1n chia s\u1ebb \u1ea3nh, \u1ea3nh s\u1ebd xu\u1ea5t hi\u1ec7n tr\xean trang c\xe1 nh\xe2n c\u1ee7a b\u1ea1n."})]})]})]}):(0,g.jsx)("p",{})}}}]);
//# sourceMappingURL=811.b64f709d.chunk.js.map