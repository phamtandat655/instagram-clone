"use strict";(self.webpackChunkinstagram_clone=self.webpackChunkinstagram_clone||[]).push([[677],{6677:function(n,a,e){e.r(a),e.d(a,{default:function(){return h}});var t=e(4165),i=e(5861),r=e(9439),s=e(9448),c=e.n(s),u=e(2791),o=e(7084),l=e(7799),d=e(276),p=e(9514),v=e(7689),f=e(184),m=c().bind({wrapper:"AccountEdit_wrapper__5zLbe",progress:"AccountEdit_progress__Gfi+v",hide:"AccountEdit_hide__HZXoK","avatar-wrapper":"AccountEdit_avatar-wrapper__+DwlO","account-wrapper":"AccountEdit_account-wrapper__0X8Xs","emailAndAvatar-wrapper":"AccountEdit_emailAndAvatar-wrapper__HYV7p","input-wrapper":"AccountEdit_input-wrapper__49-yu","submit-btn":"AccountEdit_submit-btn__uTEU5"});var h=function(){var n=(0,u.useState)(""),a=(0,r.Z)(n,2),e=a[0],s=a[1],c=(0,u.useState)(""),h=(0,r.Z)(c,2),x=h[0],_=h[1],w=(0,u.useState)(""),j=(0,r.Z)(w,2),g=j[0],b=j[1],A=(0,u.useState)(0),E=(0,r.Z)(A,2),Z=E[0],y=E[1],k=(0,u.useState)(!0),N=(0,r.Z)(k,2),C=N[0],S=N[1],J=(0,o._)().user,T=(0,u.useRef)(),U=(0,v.s0)();(0,u.useEffect)((function(){(0,l.cf)((0,l.JU)(p.db,"users","".concat(J.email)),(function(n){var a,e,t;s(null===(a=n.data())||void 0===a?void 0:a.information.avatar),_(null===(e=n.data())||void 0===e?void 0:e.information.name),b(null===(t=n.data())||void 0===t?void 0:t.information.desc)}))}),[null===J||void 0===J?void 0:J.email]),(0,u.useEffect)((function(){S(100===Z)}),[Z]);var H=function(){var n=(0,i.Z)((0,t.Z)().mark((function n(){var a;return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=(0,l.JU)(p.db,"users","".concat(J.email)),n.next=3,(0,l.r7)(a,{information:{email:null===J||void 0===J?void 0:J.email,name:x,desc:g,avatar:e}});case 3:U("/personalPage/".concat(null===J||void 0===J?void 0:J.email));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),X=(0,d.cF)();return(0,f.jsxs)("div",{className:m("wrapper"),children:[(0,f.jsxs)("div",{className:m("account-wrapper"),children:[(0,f.jsx)("span",{className:m("progress",{hide:C}),style:{width:"".concat(Z,"%")}}),(0,f.jsx)("div",{className:m("avatar-wrapper"),children:(0,f.jsx)("img",{alt:"avatar",src:e})}),(0,f.jsxs)("div",{className:m("emailAndAvatar-wrapper"),children:[(0,f.jsx)("p",{children:null===J||void 0===J?void 0:J.email}),(0,f.jsxs)("div",{onClick:function(){T.current.click()},children:[(0,f.jsx)("span",{children:"Thay \u0111\u1ed5i \u1ea3nh \u0111\u1ea1i di\u1ec7n"}),(0,f.jsx)("input",{type:"file",onChange:function(n){var a=n.target.files[0],e=(0,d.iH)(X,"images/".concat(a.name)),r=(0,d.B0)(e,a);r.on("state_changed",(function(n){var a=n.bytesTransferred/n.totalBytes*100;y(a),n.state}),(function(n){alert(n.message)}),(function(){(0,d.Jt)(r.snapshot.ref).then(function(){var n=(0,i.Z)((0,t.Z)().mark((function n(a){return(0,t.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,l.r7)((0,l.JU)(p.db,"users","".concat(null===J||void 0===J?void 0:J.email)),{information:{avatar:a,name:x,desc:g}});case 2:case"end":return n.stop()}}),n)})));return function(a){return n.apply(this,arguments)}}())}))},hidden:!0,ref:T})]})]})]}),(0,f.jsxs)("div",{className:m("input-wrapper"),children:[(0,f.jsx)("span",{children:"Email : "}),(0,f.jsx)("input",{type:"text",disabled:!0,value:(null===J||void 0===J?void 0:J.email)||"",onChange:function(n){return null===J||void 0===J?void 0:J.email}})]}),(0,f.jsxs)("div",{className:m("input-wrapper"),children:[(0,f.jsx)("span",{children:"T\xean : "}),(0,f.jsx)("input",{type:"text",onChange:function(n){_(n.target.value)},value:x||""})]}),(0,f.jsxs)("div",{className:m("input-wrapper"),children:[(0,f.jsx)("span",{children:"M\xf4 t\u1ea3 : "}),(0,f.jsx)("input",{type:"text",onChange:function(n){b(n.target.value)},value:g||""})]}),(0,f.jsx)("div",{className:m("submit-btn"),onClick:H,children:(0,f.jsx)("button",{children:"G\u1eedi"})})]})}}}]);
//# sourceMappingURL=677.22b4c0d8.chunk.js.map