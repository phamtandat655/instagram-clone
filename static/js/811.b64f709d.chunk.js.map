{"version":3,"file":"static/js/811.b64f709d.chunk.js","mappings":"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","sources":["components/FollowsModal/FollowsModal.js","webpack://instagram-clone/./src/components/FollowsModal/FollowsModal.module.scss?4b5a","pages/PersonalPage/PersonalPage.js","webpack://instagram-clone/./src/pages/PersonalPage/PersonalPage.module.scss?c165"],"sourcesContent":["import styles from './FollowsModal.module.scss';\r\nimport classNames from 'classnames/bind';\r\nimport Account from '../Account/Account';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst cx = classNames.bind(styles);\r\n\r\nconst FollowsModal = ({ typeOfFollowModal, setHideFollowModal, followings, followers }) => {\r\n    const nav = useNavigate();\r\n\r\n    if (typeOfFollowModal === 'followers') {\r\n        return (\r\n            <div\r\n                className={cx('followings-modal')}\r\n                onClick={(e) => {\r\n                    setHideFollowModal(true);\r\n                }}\r\n            >\r\n                <div\r\n                    className={cx('followings-modal-wrapper')}\r\n                    onClick={(e) => {\r\n                        e.stopPropagation();\r\n                    }}\r\n                >\r\n                    <i\r\n                        className={cx('followings-modal-close')}\r\n                        onClick={(e) => {\r\n                            setHideFollowModal(true);\r\n                        }}\r\n                    >\r\n                        X\r\n                    </i>\r\n                    <div className={cx('followings-modal-header')}>Người theo dõi</div>\r\n                    <div className={cx('followings-modal-list')}>\r\n                        {followers &&\r\n                            followers.map((user, index) => (\r\n                                <div\r\n                                    key={user?.id || index}\r\n                                    className={cx('followings-modal-item')}\r\n                                    onClick={(e) => {\r\n                                        setHideFollowModal(true);\r\n                                        nav(`/personalPage/${user?.id}`);\r\n                                    }}\r\n                                >\r\n                                    <Account\r\n                                        userAccount={user}\r\n                                        lengthDesc={40}\r\n                                        follow={\r\n                                            followings.find(\r\n                                                (followingUser) =>\r\n                                                    followingUser?.User.information.email === user?.information.email,\r\n                                            )\r\n                                                ? false\r\n                                                : true\r\n                                        }\r\n                                        followings={followings}\r\n                                    />\r\n                                </div>\r\n                            ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    } else {\r\n        return (\r\n            <div\r\n                className={cx('followings-modal')}\r\n                onClick={(e) => {\r\n                    setHideFollowModal(true);\r\n                }}\r\n            >\r\n                <div\r\n                    className={cx('followings-modal-wrapper')}\r\n                    onClick={(e) => {\r\n                        e.stopPropagation();\r\n                    }}\r\n                >\r\n                    <i\r\n                        className={cx('followings-modal-close')}\r\n                        onClick={(e) => {\r\n                            setHideFollowModal(true);\r\n                        }}\r\n                    >\r\n                        X\r\n                    </i>\r\n                    <div className={cx('followings-modal-header')}>Đang theo dõi</div>\r\n                    <div className={cx('followings-modal-list')}>\r\n                        {followings &&\r\n                            followings.map((user, index) => (\r\n                                <div\r\n                                    key={user?.User.id || index}\r\n                                    className={cx('followings-modal-item')}\r\n                                    onClick={(e) => {\r\n                                        setHideFollowModal(true);\r\n                                        nav(`/personalPage/${user?.User.information.email}`);\r\n                                    }}\r\n                                >\r\n                                    <Account\r\n                                        name={user?.User.information.name}\r\n                                        img={user?.User.information.avatar}\r\n                                        lengthDesc={40}\r\n                                    />\r\n                                </div>\r\n                            ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n};\r\n\r\nexport default FollowsModal;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"followings-modal\":\"FollowsModal_followings-modal__K623X\",\"followings-modal-wrapper\":\"FollowsModal_followings-modal-wrapper__monfV\",\"followings-modal-header\":\"FollowsModal_followings-modal-header__bO1Q8\",\"followings-modal-close\":\"FollowsModal_followings-modal-close__iUwem\",\"followings-modal-list\":\"FollowsModal_followings-modal-list__615hS\",\"followings-modal-item\":\"FollowsModal_followings-modal-item__mnL+Y\"};","import classNames from 'classnames/bind';\r\nimport styles from './PersonalPage.module.scss';\r\n\r\nimport { useState, useEffect, Fragment } from 'react';\r\nimport { UserAuth } from '../../Context/AuthContext';\r\nimport { onSnapshot, doc, query, collection, orderBy } from 'firebase/firestore';\r\nimport { db } from '../../firebase';\r\n\r\nimport { ListIcon, PostIcon, ThreeDotsIcon } from '../../assets/Icons/Icons';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { UseFireBase } from '../../Context/FireBaseContext';\r\nimport FollowsModal from '../../components/FollowsModal/FollowsModal';\r\n\r\nconst cx = classNames.bind(styles);\r\n\r\nfunction PersonalPage() {\r\n    const [thisUser, setThisUser] = useState({});\r\n    const [posts, setPosts] = useState([]);\r\n    const [followings, setFollowings] = useState([]);\r\n    const [followers, setFollowers] = useState([]);\r\n    const [myFollowings, setMyFollowings] = useState([]);\r\n    const [hideFollowModal, setHideFollowModal] = useState(true);\r\n    const [typeOfFollowModal, setTypeOfFollowModal] = useState('');\r\n    const [indexPostObserved, setIndexPostObserved] = useState(15);\r\n    const [showSignOut, setShowSignOut] = useState(false);\r\n\r\n    const { user, logout } = UserAuth();\r\n    const nav = useNavigate();\r\n    const { email } = useParams();\r\n    const { handleFollow, handleUnfollow } = UseFireBase();\r\n\r\n    useEffect(() => {\r\n        onSnapshot(doc(db, 'users', `${user?.email}`), (doc) => {\r\n            setMyFollowings(doc.data()?.follows);\r\n        });\r\n\r\n        onSnapshot(collection(db, 'users'), (snapshot) => {\r\n            let newFollowers = [];\r\n            snapshot.forEach((doc) => {\r\n                if (doc.id === email) {\r\n                    setFollowings(doc.data()?.follows);\r\n                    setThisUser(doc.data());\r\n                }\r\n\r\n                if (doc.data()?.follows.find((following) => following.User.information.email === email)) {\r\n                    newFollowers.push({\r\n                        id: doc.id,\r\n                        ...doc.data(),\r\n                    });\r\n                }\r\n            });\r\n            setFollowers(newFollowers);\r\n        });\r\n\r\n        const q = query(collection(db, 'posts'), orderBy('timestamp', 'desc'));\r\n        const unsubcribe = onSnapshot(q, (snapshot) => {\r\n            let newPosts = [];\r\n            snapshot.forEach((doc) => {\r\n                newPosts.push({\r\n                    id: doc.id,\r\n                    ...doc.data(),\r\n                });\r\n            });\r\n            newPosts = newPosts.filter((post) => post?.useremail.includes(email));\r\n            setPosts(newPosts);\r\n        });\r\n\r\n        return () => {\r\n            unsubcribe();\r\n        };\r\n    }, [email, user?.email]);\r\n\r\n    const handleScroll = (e) => {\r\n        const scrollTop = document.body.scrollTop || document.documentElement.scrollTop;\r\n        const scrollHeight = document.documentElement.scrollHeight;\r\n        const clientHeight = document.documentElement.clientHeight;\r\n\r\n        const percentage = Math.floor((scrollTop / (scrollHeight - clientHeight)) * 100);\r\n        if (percentage >= 90) {\r\n            setIndexPostObserved((prevIndex) => prevIndex + 9);\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        window.addEventListener('scroll', handleScroll);\r\n\r\n        return () => window.removeEventListener('scroll', handleScroll);\r\n    });\r\n\r\n    const handleSignOut = () => {\r\n        nav('/');\r\n        logout();\r\n    };\r\n\r\n    if (thisUser?.information) {\r\n        return (\r\n            <div className={cx('wrapper')}>\r\n                {hideFollowModal === false && (\r\n                    <FollowsModal\r\n                        typeOfFollowModal={typeOfFollowModal}\r\n                        setHideFollowModal={setHideFollowModal}\r\n                        followings={followings}\r\n                        followers={followers}\r\n                    />\r\n                )}\r\n                <div className={cx('personalPage-top')}>\r\n                    <div className={cx('avatar-container')}>\r\n                        <img alt=\"avatar\" src={thisUser?.information.avatar} />\r\n                    </div>\r\n\r\n                    <div className={cx('infomation-container')}>\r\n                        <div className={cx('info-top')}>\r\n                            <div className={cx('email-wrapper')}>\r\n                                <p className={cx('info-top--email')}>{email}</p>\r\n                                {email === user?.email && (\r\n                                    <p\r\n                                        className={cx('info-top--icon')}\r\n                                        onClick={(e) => {\r\n                                            setShowSignOut(!showSignOut);\r\n                                        }}\r\n                                    >\r\n                                        {ThreeDotsIcon}\r\n                                    </p>\r\n                                )}\r\n                                {showSignOut === true && (\r\n                                    <div className={cx('info-top--signout')} onClick={handleSignOut}>\r\n                                        Đăng xuất\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                            {email === user?.email ? (\r\n                                <div\r\n                                    className={cx('info-top--settings')}\r\n                                    onClick={(e) => {\r\n                                        nav('/account/edit');\r\n                                    }}\r\n                                >\r\n                                    Chỉnh sửa trang cá nhân\r\n                                </div>\r\n                            ) : (\r\n                                <div className={cx('info-top--following-wrapper')}>\r\n                                    <div\r\n                                        className={cx('info-top--following')}\r\n                                        onClick={(e) => {\r\n                                            nav(`/inbox/${email}`);\r\n                                        }}\r\n                                    >\r\n                                        Nhắn tin\r\n                                    </div>\r\n                                    {myFollowings &&\r\n                                    myFollowings.find((following) => following.User.information.email === email) ? (\r\n                                        <p\r\n                                            className={cx('info-top--following')}\r\n                                            onClick={(e) => {\r\n                                                handleUnfollow(user, myFollowings, thisUser);\r\n                                            }}\r\n                                        >\r\n                                            Đang theo dõi\r\n                                        </p>\r\n                                    ) : (\r\n                                        <p\r\n                                            className={cx('info-top--follow')}\r\n                                            onClick={(e) => {\r\n                                                handleFollow(user, myFollowings, thisUser);\r\n                                            }}\r\n                                        >\r\n                                            Theo dõi\r\n                                        </p>\r\n                                    )}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        <div className={cx('info-mid')}>\r\n                            <span className={cx('info-mid-posts')}>\r\n                                <strong>{posts.length}</strong> <span>bài viết</span>\r\n                            </span>\r\n                            <span\r\n                                className={cx('info-mid-followings', {\r\n                                    cursorText: followers.length === 0 ? true : false,\r\n                                })}\r\n                                onClick={(e) => {\r\n                                    if (followers.length === 0) return;\r\n                                    setTypeOfFollowModal('followers');\r\n                                    setHideFollowModal(false);\r\n                                }}\r\n                            >\r\n                                <strong>{followers ? followers.length : 0}</strong> <span>người theo dõi</span>\r\n                            </span>\r\n                            <span\r\n                                className={cx('info-mid-followings', {\r\n                                    cursorText: followings.length === 0 ? true : false,\r\n                                })}\r\n                                onClick={(e) => {\r\n                                    if (followings.length === 0) return;\r\n                                    setTypeOfFollowModal('followings');\r\n                                    setHideFollowModal(false);\r\n                                }}\r\n                            >\r\n                                <strong>{followings ? followings.length : 0}</strong> <span>đang theo dõi</span>\r\n                            </span>\r\n                        </div>\r\n                        <div className={cx('info-bottom')}>\r\n                            <p className={cx('info-bottom--name')}>{thisUser?.information.name}</p>\r\n                            <p className={cx('info-bottom--desc')}>{thisUser?.information.desc}</p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className={cx('personalPage-bottom')}>\r\n                    <p className={cx('post-container', 'active')}>\r\n                        <span className={cx('post-container--icon')}>{PostIcon}</span>\r\n                        <span>BÀI VIẾT</span>\r\n                    </p>\r\n                    <div className={cx('post')}>\r\n                        {posts &&\r\n                            posts.map((post, index) => {\r\n                                if (index >= indexPostObserved) {\r\n                                    return <Fragment key={index}></Fragment>;\r\n                                }\r\n                                if (post?.url[0].type.includes('image')) {\r\n                                    return (\r\n                                        <div\r\n                                            key={post?.id}\r\n                                            className={cx('post-wrapper')}\r\n                                            onClick={(e) => {\r\n                                                nav(`/${post?.id}`);\r\n                                            }}\r\n                                        >\r\n                                            {post?.url.length > 1 && <i className={cx('listPost-icon')}>{ListIcon}</i>}\r\n                                            <img alt=\"post-img\" src={post?.url[0].src} />\r\n                                        </div>\r\n                                    );\r\n                                } else {\r\n                                    return (\r\n                                        <div\r\n                                            key={post?.id}\r\n                                            className={cx('post-wrapper')}\r\n                                            onClick={(e) => {\r\n                                                nav(`/${post?.id}`);\r\n                                            }}\r\n                                        >\r\n                                            {post?.url.length > 1 && <i className={cx('listPost-icon')}>{ListIcon}</i>}\r\n                                            <video width=\"290\" muted className={cx('video')}>\r\n                                                <source src={post?.url[0].src} type=\"video/mp4\" />\r\n                                            </video>\r\n                                        </div>\r\n                                    );\r\n                                }\r\n                            })}\r\n                    </div>\r\n                    {posts.length <= 0 && (\r\n                        <div className={cx('dontHavePost')}>\r\n                            <h3>Hiện tại chưa có bài viết nào !</h3>\r\n                            <p>Hãy chia sẻ những bức ảnh đầu tiên của bạn !</p>\r\n                            <p>Khi bạn chia sẻ ảnh, ảnh sẽ xuất hiện trên trang cá nhân của bạn.</p>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        );\r\n    } else {\r\n        return <p></p>;\r\n    }\r\n}\r\n\r\nexport default PersonalPage;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"PersonalPage_wrapper__JaFho\",\"personalPage-top\":\"PersonalPage_personalPage-top__gWb51\",\"avatar-container\":\"PersonalPage_avatar-container__i82Ok\",\"infomation-container\":\"PersonalPage_infomation-container__JreGG\",\"info-top\":\"PersonalPage_info-top__DRTHI\",\"info-top--following-wrapper\":\"PersonalPage_info-top--following-wrapper__5rRdo\",\"info-top--email\":\"PersonalPage_info-top--email__mRtoi\",\"info-top--settings\":\"PersonalPage_info-top--settings__DNcuP\",\"info-top--follow\":\"PersonalPage_info-top--follow__PEegz\",\"info-top--following\":\"PersonalPage_info-top--following__x9v1l\",\"info-top--setting\":\"PersonalPage_info-top--setting__kgQpu\",\"info-top--icon\":\"PersonalPage_info-top--icon__VbCdP\",\"info-mid\":\"PersonalPage_info-mid__fIw+o\",\"info-mid-followings\":\"PersonalPage_info-mid-followings__56lhj\",\"cursorText\":\"PersonalPage_cursorText__+cRG4\",\"info-bottom--name\":\"PersonalPage_info-bottom--name__eCFY8\",\"personalPage-bottom\":\"PersonalPage_personalPage-bottom__UY+jp\",\"dontHavePost\":\"PersonalPage_dontHavePost__APBUr\",\"post-container\":\"PersonalPage_post-container__BmluI\",\"post-container--icon\":\"PersonalPage_post-container--icon__lWdTR\",\"active\":\"PersonalPage_active__0AyDQ\",\"post\":\"PersonalPage_post__XzJSQ\",\"post-wrapper\":\"PersonalPage_post-wrapper__tB0Rg\",\"listPost-icon\":\"PersonalPage_listPost-icon__1Vlec\",\"video\":\"PersonalPage_video__rhiAI\",\"info-top--signout\":\"PersonalPage_info-top--signout__0A3ju\",\"info-mid-posts\":\"PersonalPage_info-mid-posts__OeKql\",\"info-bottom--desc\":\"PersonalPage_info-bottom--desc__Z2E5S\",\"email-wrapper\":\"PersonalPage_email-wrapper__-oNX5\"};"],"names":["cx","classNames","typeOfFollowModal","setHideFollowModal","followings","followers","nav","useNavigate","className","onClick","e","stopPropagation","map","user","index","id","Account","userAccount","lengthDesc","follow","find","followingUser","User","information","email","name","img","avatar","useState","thisUser","setThisUser","posts","setPosts","setFollowings","setFollowers","myFollowings","setMyFollowings","hideFollowModal","setTypeOfFollowModal","indexPostObserved","setIndexPostObserved","showSignOut","setShowSignOut","UserAuth","logout","useParams","UseFireBase","handleFollow","handleUnfollow","useEffect","onSnapshot","doc","db","data","follows","collection","snapshot","newFollowers","forEach","following","push","q","query","orderBy","unsubcribe","newPosts","filter","post","useremail","includes","handleScroll","scrollTop","document","body","documentElement","scrollHeight","clientHeight","Math","floor","prevIndex","window","addEventListener","removeEventListener","alt","src","ThreeDotsIcon","length","cursorText","desc","PostIcon","Fragment","url","type","ListIcon","width","muted"],"sourceRoot":""}